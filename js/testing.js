questionsList = [
  "What is the primary focus of developmental psychologists?",
  "Approximately how many genes do humans inherit from their parents?",
  "Does developmental psychology have a strict end point?",
  "Why is developmental psychology important in the real world?",
  "What are examples of controversies in developmental psychology?",
  "In the nature vs nurture debate, what does nature refer to?",
  "What studies are used to explore nature and nurture?",
  "What is epigenetics?",
  "In continuity vs stages, what does continuity mean?",
  "What is an example of a stage theory in development?",
  "What does stability refer to in the stability vs change debate?",
  "What is an example of a trait that tends to remain relatively constant?",
  "What is an example of a trait that changes as we develop?",
  "What term describes infants' tendencies that may evolve into personality?",
  "How do gene-environment interactions influence traits?",
  "What are the three major stages of prenatal development?",
  "What is a zygote?",
  "During which prenatal stage do major organs form?",
  "What are teratogens?",
  "Examples of teratogens include?",
  "What causes fetal alcohol syndrome (FAS)?",
  "What are symptoms of FAS?",
  "According to the notes, what is the statistic for FAS among alcohol-exposed children?",
  "What reflexes are present at birth?",
  "What is the purpose of newborn reflexes?",
  "How many neurons are humans born with approximately?",
  "What happens to neural connections after birth?",
  "What effect do enriched environments have on the brain?",
  "What is synaptic pruning?",
  "When does synaptic pruning typically start?",
  "What are critical periods in development?",
  "What is an example of a critical period?",
  "What is neuroplasticity?",
  "Who studied infant memory using a mobile and kicking experiment?",
  "What did Rovee-Collier's work show about infant memory?",
  "What is infantile amnesia?",
  "What is the average age of the first conscious memory?",
  "What is cognition according to the notes?",
  "Who proposed the theory of cognitive development with stages?",
  "In Piaget's theory, what is a schema?",
  "What is assimilation in Piaget's theory?",
  "What is accommodation in Piaget's theory?",
  "How many stages are in Piaget's cognitive development theory?",
  "What is the age range for the sensorimotor stage?",
  "What key concept emerges in the sensorimotor stage?",
  "What is the age range for the preoperational stage?",
  "What is egocentrism in the preoperational stage?",
  "What is animism in the preoperational stage?",
  "What is centration in the preoperational stage?",
  "What is the 'Smarties' task an example of?",
  "What is the age range for the concrete operational stage?",
  "What key ability develops in the concrete operational stage?",
  "What is the age range for the formal operational stage?",
  "What key thinking emerges in the formal operational stage?",
  "What is a modern view on Piaget's theory?",
  "Who emphasized social contexts in cognitive development?",
  "What is the Zone of Proximal Development (ZPD)?",
  "What is scaffolding in Vygotsky's theory?",
  "How does Vygotsky's theory differ from Piaget's?",
  "Where does optimal learning occur according to Vygotsky?"
];

answersList = [
  ["Animal behavior", "How people grow, develop, and change over time", "Only physical health", "Adult education"],
  ["10,000", "20,000", "50,000", "100,000"],
  ["Yes, at age 18", "Yes, at retirement", "No, it covers the entire lifespan", "No, only until adolescence"],
  ["It helps guide healthy choices for families", "It only studies diseases", "It focuses on economics", "It ignores child wellbeing"],
  ["Education, day care, spanking", "Weather patterns", "Stock market trends", "Car models"],
  ["Environmental influences", "Genetic inheritance", "Social media", "Diet"],
  ["Twin studies", "Animal experiments only", "Historical records", "Weather studies"],
  ["Study of how environment changes gene expression", "Type of surgery", "Food science", "Art form"],
  ["Sharp changes", "Smooth, slow transitions", "No change", "Random jumps"],
  ["Piaget's cognitive stages", "Continuous height growth", "Daily mood changes", "Hair color"],
  ["Traits that change frequently", "Traits that remain constant", "No traits", "Only physical traits"],
  ["Temperament to personality", "Cognitive skills", "Height", "Eye color"],
  ["Cognitive skills", "Temperament", "Hair length", "Shoe size"],
  ["Temperament", "Personality", "Cognition", "Reflexes"],
  ["They determine if traits persist or evolve", "They have no effect", "Only genes matter", "Only environment matters"],
  ["Zygote, embryo, fetus", "Infant, child, adult", "Birth, walking, talking", "Sleep, eat, play"],
  ["Fertilized egg", "Newborn baby", "Adolescent", "Adult cell"],
  ["Zygote", "Embryo", "Fetus", "Postnatal"],
  ["Helpful nutrients", "Agents that impair fetal development", "Baby toys", "Pregnancy exercises"],
  ["Alcohol, drugs, toxins", "Fruits, vegetables", "Books, music", "Exercise, rest"],
  ["Prenatal alcohol exposure", "Too much water", "Reading books", "Walking"],
  ["Physical and cognitive impairment", "Super intelligence", "Tall height", "Blue eyes"],
  ["1 in ~700", "1 in 10", "1 in 10000", "1 in 1"],
  ["Moro, grasp, step", "Driving, cooking", "Reading, writing", "Swimming, flying"],
  ["Survival benefits", "Entertainment", "Decoration", "None"],
  ["~100 billion", "1 million", "1 thousand", "10 billion"],
  ["Form rapidly", "Disappear", "Stay the same", "Decrease"],
  ["More dendrite connections, 7-10% brain weight increase", "No effect", "Decrease in weight", "Only color change"],
  ["Shutting down unused connections", "Adding new neurons", "Eating synapses", "Pruning plants"],
  ["Around 2-3 years", "At birth", "In adulthood", "Never"],
  ["Optimal for development shaping", "Times of crisis", "School periods", "Lunch breaks"],
  ["Language learning", "Car driving", "Cooking", "Shopping"],
  ["Brain's ability to adapt", "Plastic in brain", "Fixed brain", "No change"],
  ["Rovee-Collier", "Piaget", "Vygotsky", "Freud"],
  ["Events remembered but may not recall over time", "No memory at all", "Perfect recall", "Only bad events"],
  ["Lack of early life memories", "Remembering everything", "Adult amnesia", "Animal memory"],
  ["3.5 years", "1 year", "10 years", "Birth"],
  ["Mental activities like thinking, knowing", "Physical exercise", "Eating habits", "Sleeping patterns"],
  ["Jean Piaget", "Lev Vygotsky", "Sigmund Freud", "Erik Erikson"],
  ["Organization of information", "Type of food", "Building", "Car"],
  ["Incorporating new info into existing schema", "Changing schema", "Forgetting", "Ignoring"],
  ["Changing schema for new info", "Keeping same", "Traveling", "Hotel"],
  ["4", "2", "6", "1"],
  ["Birth to 2", "2-7", "7-11", "11+"],
  ["Object permanence", "Abstract thinking", "Conservation", "Theory of mind"],
  ["2 to 7", "Birth-2", "7-11", "11+"],
  ["Difficulty seeing other's standpoint", "Logical thinking", "Reversible operations", "Hypothetical reasoning"],
  ["Inanimate objects lifelike", "Animal study", "Animation movies", "Running"],
  ["Focus on one aspect", "Multiple aspects", "Center of earth", "Concentration drink"],
  ["False-belief problem", "Object permanence", "Conservation", "Deductive reasoning"],
  ["7 to 11", "2-7", "Birth-2", "11+"],
  ["Reversible mental operations", "Abstract thinking", "Egocentrism", "Reflexes"],
  ["11 and older", "7-11", "2-7", "Birth-2"],
  ["Abstract and hypothetical thinking", "Object permanence", "Centration", "Reflexes"],
  ["Timing off, more continuous", "Perfect as is", "No stages", "Only for adults"],
  ["Lev Vygotsky", "Jean Piaget", "Sigmund Freud", "Erik Erikson"],
  ["Gap between independent and assisted ability", "Zoo park district", "Zero point development", "Zone of peace"],
  ["Temporary support for learning", "Building construction", "Permanent change", "Forgetting"],
  ["Emphasizes social interactions", "Same as Piaget", "Ignores social", "Only physical"],
  ["Sweet spot between too easy and difficult", "Alone always", "Too hard", "Too easy"]
];

answerKeyList = [
  "How people grow, develop, and change over time",
  "20,000",
  "No, it covers the entire lifespan",
  "It helps guide healthy choices for families",
  "Education, day care, spanking",
  "Genetic inheritance",
  "Twin studies",
  "Study of how environment changes gene expression",
  "Smooth, slow transitions",
  "Piaget's cognitive stages",
  "Traits that remain constant",
  "Temperament to personality",
  "Cognitive skills",
  "Temperament",
  "They determine if traits persist or evolve",
  "Zygote, embryo, fetus",
  "Fertilized egg",
  "Embryo",
  "Agents that impair fetal development",
  "Alcohol, drugs, toxins",
  "Prenatal alcohol exposure",
  "Physical and cognitive impairment",
  "1 in ~700",
  "Moro, grasp, step",
  "Survival benefits",
  "~100 billion",
  "Form rapidly",
  "More dendrite connections, 7-10% brain weight increase",
  "Shutting down unused connections",
  "Around 2-3 years",
  "Optimal for development shaping",
  "Language learning",
  "Brain's ability to adapt",
  "Rovee-Collier",
  "Events remembered but may not recall over time",
  "Lack of early life memories",
  "3.5 years",
  "Mental activities like thinking, knowing",
  "Jean Piaget",
  "Organization of information",
  "Incorporating new info into existing schema",
  "Changing schema for new info",
  "4",
  "Birth to 2",
  "Object permanence",
  "2 to 7",
  "Difficulty seeing other's standpoint",
  "Inanimate objects lifelike",
  "Focus on one aspect",
  "False-belief problem",
  "7 to 11",
  "Reversible mental operations",
  "11 and older",
  "Abstract and hypothetical thinking",
  "Timing off, more continuous",
  "Lev Vygotsky",
  "Gap between independent and assisted ability",
  "Temporary support for learning",
  "Emphasizes social interactions",
  "Sweet spot between too easy and difficult"
];

const questionsListAAA = [
    [ // Chapter 1: JavaScript Basics
        "What is JavaScript?",
        "How do you declare a variable in JavaScript?",
        "What does the `if` statement do?",
        "What is a function?",
        "What does `console.log()` do?"
    ],
    [ // Chapter 2: HTML Basics
        "What is HTML used for?",
        "What does the `<div>` tag represent?",
        "How do you add a hyperlink in HTML?",
        "What is the difference between `<ul>` and `<ol>`?",
        "What does the `<img>` tag do?"
    ],
    [ // Chapter 3: CSS Basics
        "What is CSS used for?",
        "How do you change text color in CSS?",
        "What is a CSS class selector?",
        "What does `display: flex` do?",
        "How do you apply a background color in CSS?"
    ]
];

const answersListAAA = [
    [ // Chapter 1: JavaScript
        ["A programming language", "A database", "A markup language", "A spreadsheet tool"],
        ["let x = 5;", "var: 5 = x;", "create x = 5;", "int x = 5;"],
        ["Checks a condition", "Prints output", "Declares a function", "Creates a loop"],
        ["A reusable block of code", "A browser plugin", "An HTML element", "A CSS property"],
        ["Outputs messages to the console", "Defines a function", "Adds a variable", "Creates a loop"]
    ],
    [ // Chapter 2: HTML
        ["To structure web pages", "To program robots", "To design logos", "To write emails"],
        ["A generic container", "A table row", "A heading", "A link"],
        ["Using the <a> tag", "Using the <div> tag", "Using the <img> tag", "Using the <p> tag"],
        ["<ul> is unordered, <ol> is ordered", "They are the same", "Both are for images", "They are CSS styles"],
        ["Displays an image", "Adds a link", "Creates a video", "Styles the text"]
    ],
    [ // Chapter 3: CSS
        ["To style web pages", "To send emails", "To write backend logic", "To manage databases"],
        ["color: red;", "text-color: red;", "font-color: red;", "paint: red;"],
        [".classname", "#classname", "$classname", "classname:"],
        ["Creates a flexible layout", "Adds spacing", "Changes color", "Adds a border"],
        ["background-color: blue;", "color: background-blue;", "bg: blue;", "set-background: blue;"]
    ]
];

const answerKeyListAAA = [
    [ // Chapter 1 answers (correct texts)
        "A programming language",
        "let x = 5;",
        "Checks a condition",
        "A reusable block of code",
        "Outputs messages to the console"
    ],
    [ // Chapter 2 answers
        "To structure web pages",
        "A generic container",
        "Using the <a> tag",
        "<ul> is unordered, <ol> is ordered",
        "Displays an image"
    ],
    [ // Chapter 3 answers
        "To style web pages",
        "color: red;",
        ".classname",
        "Creates a flexible layout",
        "background-color: blue;"
    ]
];

let chaptersList = [
  "Chapter 1", "Chapter 2", "Chapter 3"
];



// this 

let questionNumber = 0;
updatedListOfQuestions = questionsList;
newListOfAnswers = answersList;

let userAnswers = [];

let newAnswerKeyList = answerKeyList;


let currentQuestionIndex = 0;
let currentAnswerList = [];

// This variable allows the quiz to start at a random question and corresponding answers list.

//const originalContainer = document.querySelector('.myFeedback'); // This is a copy of the feedback div, the original
//
//const clonedContainer = originalContainer.cloneNode(true); // true for deep clone (includes children). This is a copy of the feedback div, that I will place in the parent div
//const parentElement = document.querySelector('.theParentContainer'); // This is the parent div, where I will place the copy of the original feedback div
//clonedContainer.className = "myFeedback container d-flex flex-coloumn justify-content-center";
//
//
//const questionNumberElement = clonedContainer.querySelector('.questionNumberText');
//const CorrectOrIncorrectElement = clonedContainer.querySelector('.correctOrIncorrect');
//const questionDisplayedElement = clonedContainer.querySelector('.displayedQuestionFinal');



let totalNumberOfQuestions = answersList.length; // This will keep track of how many elements are left in the array updatedListOfQuestions.

function main(){
    displayChaptersSidebar();
    startingQuestionsAndAnswers();
};




// This starts off the quiz at a random question
function startingQuestionsAndAnswers(){
    // This variable chooses a random index from the list of total list of questinos.
    currentQuestionIndex = Math.floor(Math.random() * totalNumberOfQuestions);
    
    // Questions Displayed
    questionDisplayed.textContent = updatedListOfQuestions[currentQuestionIndex];
    
    // Answers Displayed
    currentAnswerList = newListOfAnswers[currentQuestionIndex];
    currentAnswerList = shuffleTheList(currentAnswerList);
    answerButtons.forEach((button, index) => {
        button.innerText = currentAnswerList[index]; // Set button text to the corresponding answer
    });
}

function shuffleTheList(currentAnswerList){
    let shuffledList = [];
    let max = currentAnswerList.length;
    let currentAnswerIndex = 0;
    for (let i = 0; i < 4; i++){
        currentAnswerIndex = Math.floor(Math.random() * max);
        max--;
        //console.log("currentAnswerIndex: " + currentAnswerIndex);
        shuffledList.push(currentAnswerList[currentAnswerIndex]);
        currentAnswerList = currentAnswerList.filter(question => question !== currentAnswerList[currentAnswerIndex]);
    };
    //console.log("ShuffledList: " + shuffledList);
    return shuffledList;
};


// Everytime one of the answersButtons is clicked, it will call a function to update the potential answers
// displayed to a new list of potential answers from the array answersList.
// This variable holds all the buttons that contain the answers.
let answerButtons = document.querySelectorAll('.answer-btn');
answerButtons.forEach(function(button) {
    button.addEventListener("click", function() {
        if(totalNumberOfQuestions !== 0){
            determineAnswerStatus(button);
            addingHiddenGradesAndFeedback(button);
            // Everytime the user chooses an answer, we must update the screen to the next question and answers.
            UpdatingQuestionsAndAnswers(button);
            startingQuestionsAndAnswers();
        }
    });
});



let successButton = document.querySelectorAll('.success-btn');
successButton.forEach(function(button) {
    button.addEventListener("click", function() {
        console.log("The successButton was clicked!");
    });
});



// This function is responsible for updating the answerStatus variable.
// This variable is later used to display if the answer is correct or incorrect on screen.
let userResponseIndex; // This variable will hold the index from the user response, and it is used to determine the useResponse
let userReponse; // This variable will hold the answer that the user chose, it is used to help determine the answerStatus.
let answerStatus; // this variable will hold either "INCORRECT" or "CORRECT" depending on the chosen answer.
function determineAnswerStatus(button){
    userResponseIndex = Number(button.dataset.answer);
    userResponse = currentAnswerList[userResponseIndex];
    if (newAnswerKeyList[currentQuestionIndex] === userResponse){
        answerStatus = "CORRECT";
    }
    else{
        answerStatus = "INCORRECT";
    }
};


function UpdatingQuestionsAndAnswers(button) {
    // This removes the used question from the array I then updated the totalNumberOfQuestions to be accurate.
    updatedListOfQuestions = updatedListOfQuestions.filter(question => question !== updatedListOfQuestions[currentQuestionIndex]);
    totalNumberOfQuestions--;
    // This removes the used answers corresponding to the updatedListOfQuestions array.
    newListOfAnswers = newListOfAnswers.filter((row, index) => index !== currentQuestionIndex);
    // This removes the used answer key corresponding to the updatedListOfQuestion array.
    newAnswerKeyList = newAnswerKeyList.filter((row, index) => index !== currentQuestionIndex);
};


let questionDisplayed = document.getElementById("Page_Question");
let theTitle = document.getElementById("randomTitle");
let questionNumberTicker = 1;
function addingHiddenGradesAndFeedback(){
    //clonedContainer.style.display = 'flex';
    //parentElement.style.display = 'flex';
    //parentElement.className = "container d-flex flex-coloumn justify-content-center theParentContainer";
    const originalContainer = document.querySelector('.myFeedback'); // This is a copy of the feedback div, the original
    
    let clonedContainer = originalContainer.cloneNode(true); // true for deep clone (includes children). This is a copy of the feedback div, that I will place in the parent div
    let parentElement = document.querySelector('.theParentContainer'); // This is the parent div, where I will place the copy of the original feedback div
    clonedContainer.className = "myFeedbackasdf container d-flex flex-coloumn justify-content-center";
    
    const questionNumberElement = clonedContainer.querySelector('.questionNumberText');
    const CorrectOrIncorrectElement = clonedContainer.querySelector('.correctOrIncorrect');
    const questionDisplayedElement = clonedContainer.querySelector('.displayedQuestionFinal');
    
    let allBulletPoints = clonedContainer.querySelectorAll('.testingThisOut');
    allBulletPoints.forEach((currentBulletPoint, index) => {
        currentBulletPoint.textContent = currentAnswerList[index];
        // If the answer is correct, and if the current index is the same as the users response, we will change the bullet to lightgreen.
        //if (tempShuffle[index] === newAnswerKeyList[currentQuestionIndex]){
            //    testingElement[index].style.backgroundColor = 'lightgreen';
            //}
            //if (answerStatus === "INCORRECT" && userResponseIndex === index){
                //    testingElement[index].style.backgroundColor = 'red';
                //}
                
                // Marks the answer green if the user response equals the answer
                // and
                // if
                if (currentAnswerList[index] === newAnswerKeyList[currentQuestionIndex]) {
                    currentBulletPoint.style.background = 'lightgreen';
                    //console.log("newAnswerKeyList[currentQuestionIndex]: " + newAnswerKeyList[currentQuestionIndex]);
                }
                
                // If user's answer is incorrect, mark their chosen answer red
                if (answerStatus === "INCORRECT" && index == userResponseIndex) {
                    currentBulletPoint.style.background = 'red';
                }
                
            });
            
            questionNumberElement.textContent = `Question ${questionNumberTicker}`;
            CorrectOrIncorrectElement.textContent = answerStatus;
            questionDisplayedElement.textContent = updatedListOfQuestions[currentQuestionIndex];
            
            parentElement.appendChild(clonedContainer);
            
            questionNumberTicker++;
        };

        
// This function adds the buttons to the sidebars that the users can choose. I did it this way so the buttons will be added automatically as I add chapters and questions to the lists.
function displayChaptersSidebar(){
    const originalChapterButtonElement = document.querySelector('.chapters-btn');
    const originalchapterParentElement = document.querySelector('.chapters-parent-element');
    for (let i = 0; i < chaptersList.length; i++){
        let clonedChapterButtonElement = originalChapterButtonElement.cloneNode(true); // true for deep clone (includes children). This is a copy of the feedback div, that I will place in the parent div
        clonedChapterButtonElement.className = "btn btn-success mb-4 chapter-buttons-sidebar";
        clonedChapterButtonElement.textContent = chaptersList[i];
        originalchapterParentElement.appendChild(clonedChapterButtonElement);
        clonedChapterButtonElement.setAttribute("data-answer", i); // or use chaptersList[i] if more appropriate
    };
};
        
        
        //This will allow this user to choose a chapter that they want to work on. Once a chapter is chosen, the main function will be called to start the program. This also allows the user to change the chapter whenever needed.
        let chapterButtonsSidebar = document.querySelectorAll('.chapter-buttons-sidebar');
        chapterButtonsSidebar.forEach(function(button) {
            button.addEventListener("click", function() {
                chapterIndexChosenByUser = Number(button.dataset.answer);
        console.log("The chapterButtonsSidebar was pressed!"); 
    });
});

main();


//MINI PROJECTS THAT NEED TO BE ADDED
//Submit questions and answers for specific chapters
//Submit question and answer corrections
//Submit feature requests
